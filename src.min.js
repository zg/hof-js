function forEach(a,f){for(var i=0;i<a.length;i++)f(a[i])}
function filter(a,c){var r=[];for(var i=0;i<a.length;i++)if(c(a[i]))r.push(a[i]);return r}
function map(a,f){var r=[];for(var i=0;i<a.length;i++)r.push(f(a[i]));return r}
function reduce(a,f,j){var r=j;for(var i=0;i<a.length;i++)r=f(r,a[i]);return r}

var tests = [
    filter([1,2,3,4],function(x){return x%2==0}),
    map([1,2,3,4],function(x){return x*x}),
    reduce([1,2,3,4],function(x,y){return x+y},0)
];

forEach(tests,function(x){console.log(x)})
