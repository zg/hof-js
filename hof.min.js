/* hof.js by github.com/zg */
_a=function(c,m){if(!c){var m=m||"Assertion failed";if(typeof Error!=="undefined")throw new Error(m);throw m}}
_e=function(a, b){if(a===b)return true;if(a==null||b==null)return false;if(a.length!=b.length)return false;for(i in a)if(Object.prototype.toString.call(a[i])=="[object Array]"){if(!_e(a[i],b[i]))return false}else if(a[i]!==b[i])return false;return true}
average=function(a){return reduce(a,function(a,b){return a+b},0)/a.length}
every=function(a,x){for(i in a)if(!_e(a[i],x))return false;return true}
filter=function(a,p){var r=[];for(i in a)if(p(a[i]))r.push(a[i]);return r}
fold=function(a,f,s){var r=s;for(i in a)r=f(r,a[i]);return r}
foldRight=function(a,f,s){var r=s;for(i in a)r=f(r,a[a.length-i-1]);return r}
forEach=function(a,f){for(i in a)f(a[i])}
groupBy=function(a,f){var r=[];for(i in a){g=f(a[i]);if(!r[g])r[g]=[];r[g].push(a[i])}return r}
map=function(a,f){var r=[];for(i in a)r.push(f(a[i]));return r}
none=function(a,x){for(i in a)if(!_e(a[i],x))return false;return true}
product=function(s,e,f){var f=f||function(x){return x};return fold(map(range(s,e+1),f),function(a,b){return a*b},1)}
range=function(s,e,i){_a(!(i===0),"Cannot take a step");var i=i||1;_a(!(s<e&&i<0||e<s&&0<i),"Invalid range (infinite loop)");var r=[];if(0<i)for(r.push(s);r[r.length-1]+i<e;r.push(r[r.length-1]+i));else for(r.push(s);r[r.length-1]+i>e;r.push(r[r.length-1]+i));return r}
reduce=function(a,f){return fold(a,f,0)}
reduceRight=function(a,f){return foldRight(a,f,0)}
reverse=function(a){var h=a.length>>1;for(i in a)if(i<h){a[a.length-i-1]^=a[i];a[i]^=a[a.length-i-1];a[a.length-i-1]^=a[i]}return a}
some=function(a,x){for(i in a)if(_e(a[i],x))return true;return false}
sum=function(s,e,f){var f=f||function(x){return x};return reduce(map(range(s,e+1),f),function(a,b){return a+b})}
