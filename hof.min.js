/**
 * hof.js by github.com/zg
 */
average=function(a){return reduce(a,function(a,b){return a+b},0)/a.length}
every=function(a,h){for(i in a)if(a[i]!=h)return false;return true}
forEach=function(a,f){for(i in a)f(a[i])}
filter=function(a,p){var r=[];for(i in a)if(p(a[i]))r.push(a[i]);return r}
groupBy=function(a,f){r=[];for(i in a){g=f(a[i]);if(!r[g])r[g]=[];r[g].push(a[i])}return r}
map=function(a,f){var r=[];for(i in a)r.push(f(a[i]));return r}
none=function(a,h){for(i in a)if(a[i]===h)return false;return true}
reduce=function(a,f,s){var r=s;for(i in a)r=f(r,a[i]);return r}
reverse=function(a){h=a.length>>1;for(i in a)if(i<h){a[a.length-i-1]^=a[i];a[i]^=a[a.length-i-1];a[a.length-i-1]^=a[i]}return a}
some=function(a,h){for(i in a)if(a[i]==h)return true;return false}

var tests = [
    average([1,2,3,4]),
    every([1,1,1,1], 1),
    filter([1,2,3,4], function(x) {
        return x % 2 == 0;
    }),
    groupBy([1,2,3,4], function(x) {
        return x % 2 == 0;
    }),
    map([1,2,3,4], function(x) {
        return x * x;
    }),
    none([1,2,3,4], 5),
    reduce([1,2,3,4], function(x, y) {
        return x + y;
    }, 0),
    reverse([1,2,3,4,5]),
    some([1,2,3,4], 3)
];

forEach(tests,function(x){console.log(x)})
